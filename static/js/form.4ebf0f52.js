(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["form"],{"123d":function(e,t,o){"use strict";o("4de4");var a=o("7a23");function n(e,t,o,n,l,r){var c=Object(a["resolveComponent"])("el-input"),i=Object(a["resolveComponent"])("el-col"),u=Object(a["resolveComponent"])("SendCode"),d=Object(a["resolveComponent"])("el-row"),p=Object(a["resolveComponent"])("el-switch"),m=Object(a["resolveComponent"])("el-date-picker"),b=Object(a["resolveComponent"])("el-option"),s=Object(a["resolveComponent"])("el-select"),f=Object(a["resolveComponent"])("el-checkbox"),O=Object(a["resolveComponent"])("el-checkbox-group"),j=Object(a["resolveComponent"])("el-radio"),v=Object(a["resolveComponent"])("el-radio-group"),y=Object(a["resolveComponent"])("el-form-item"),k=Object(a["resolveComponent"])("el-button"),h=Object(a["resolveComponent"])("el-form");return n.showForm?(Object(a["openBlock"])(),Object(a["createBlock"])(h,{key:0,ref:"ProForm",model:o.formParam,"label-width":o.layout.labelWidth,rules:n.rules,style:[{width:o.layout.formWidth},{margin:"0 auto"}]},{default:Object(a["withCtx"])((function(){return[Object(a["renderSlot"])(e.$slots,"header"),(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(o.formList.filter((function(e){return e.isForm})),(function(e,t){return Object(a["openBlock"])(),Object(a["createBlock"])(y,{key:t,prop:e.prop?e.dataIndex:"",label:e.title+" : "},{default:Object(a["withCtx"])((function(){return["input"===e.valueType?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,modelValue:o.formParam[e.dataIndex],"onUpdate:modelValue":function(t){return o.formParam[e.dataIndex]=t},type:e.inpuType||"text",placeholder:e.placeholder||e.title},null,8,["modelValue","onUpdate:modelValue","type","placeholder"])):"check_code"===e.valueType?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:1,gutter:16},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(i,{class:"gutter-row",span:16},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(c,{modelValue:o.formParam[e.dataIndex],"onUpdate:modelValue":function(t){return o.formParam[e.dataIndex]=t}},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024),Object(a["createVNode"])(i,{class:"gutter-row",span:8},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(u,{params:e.sendCode},null,8,["params"])]})),_:2},1024)]})),_:2},1024)):"switch"===e.valueType?(Object(a["openBlock"])(),Object(a["createBlock"])(p,{key:2,modelValue:o.formParam[e.dataIndex],"onUpdate:modelValue":function(t){return o.formParam[e.dataIndex]=t}},null,8,["modelValue","onUpdate:modelValue"])):"date-picker"===e.valueType?(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:3,modelValue:o.formParam[e.dataIndex],"onUpdate:modelValue":function(t){return o.formParam[e.dataIndex]=t},type:e.pickerType,format:e.pickerFormat,clearable:"",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue","type","format"])):"select"===e.valueType?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:4,modelValue:o.formParam[e.dataIndex],"onUpdate:modelValue":function(t){return o.formParam[e.dataIndex]=t},placeholder:e.placeholder||e.title,filterable:"",multiple:!!e.multiple,clearable:"",style:{width:"100%"}},{default:Object(a["withCtx"])((function(){return[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.option.filter((function(e){return""!==e.value})),(function(e){return Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:"select"+e.value,value:e.value,label:e.label},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.label),1)]})),_:2},1032,["value","label"])})),128))]})),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","multiple"])):"checkbox"===e.valueType?(Object(a["openBlock"])(),Object(a["createBlock"])(O,{key:5,modelValue:o.formParam[e.dataIndex],"onUpdate:modelValue":function(t){return o.formParam[e.dataIndex]=t}},{default:Object(a["withCtx"])((function(){return[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.option,(function(e,t){return Object(a["openBlock"])(),Object(a["createBlock"])(f,{key:t,label:e.value},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.label),1)]})),_:2},1032,["label"])})),128))]})),_:2},1032,["modelValue","onUpdate:modelValue"])):"radio"===e.valueType?(Object(a["openBlock"])(),Object(a["createBlock"])(v,{key:6,modelValue:o.formParam[e.dataIndex],"onUpdate:modelValue":function(t){return o.formParam[e.dataIndex]=t}},{default:Object(a["withCtx"])((function(){return[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.option,(function(e,t){return Object(a["openBlock"])(),Object(a["createBlock"])(j,{key:t,label:e.value},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.label),1)]})),_:2},1032,["label"])})),128))]})),_:2},1032,["modelValue","onUpdate:modelValue"])):Object(a["createCommentVNode"])("",!0)]})),_:2},1032,["prop","label"])})),128)),Object(a["renderSlot"])(e.$slots,"footer"),Object(a["createVNode"])(y,{"label-width":"0",style:{"margin-top":"24px","text-align":"center"}},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(k,{size:"large",type:"primary",disabled:o.btnDisabled,loading:n.loading,onClick:n.handleSubmit},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.isEdit?"修改":"确定"),1)]})),_:1},8,["disabled","loading","onClick"]),Object(a["renderSlot"])(e.$slots,"btn")]})),_:3})]})),_:3},8,["model","label-width","rules","style"])):Object(a["createCommentVNode"])("",!0)}o("d81d"),o("99af"),o("d3b7");function l(e,t,o,n,l,r){var c=Object(a["resolveComponent"])("el-button");return Object(a["openBlock"])(),Object(a["createBlock"])(c,{type:"primary",disabled:2===n.sendCodes.code,loading:1===n.sendCodes.code,style:{width:"100%"},onClick:n.sendCode},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(n.sendCodes.text),1)]})),_:1},8,["disabled","loading","onClick"])}var r=o("e876"),c=o("6573"),i=o.n(c),u={name:"SendCode",props:{params:{type:Object,default:function(){return{}}}},setup:function(e){var t=Object(a["reactive"])({code:0,text:"发送验证码"});function o(){var e=60,o=setInterval((function(){e-=1,t.text="重新获取（"+e+"）",0===e&&(clearInterval(o),o=null,t.text="获取验证码",t.code=0)}),1e3)}function n(){t.text="获取中",t.code=1,Object(r["a"])(e.params).then((function(e){i()({message:e.msg,type:"success"}),t.code=2,o()})).catch((function(){t.text="获取验证码",t.code=0}))}return{sendCodes:t,sendCode:n}}};u.render=l;var d=u,p={name:"ProForm",components:{SendCode:d},props:{formParam:{type:Object,default:function(){return{}}},layout:{type:Object,default:function(){return{formWidth:"560px",labelWidth:"145px"}}},formList:{type:Array,default:function(){}},isEdit:{type:Boolean,default:!1},btnDisabled:{type:Boolean,default:!1},subMet:{type:Function,default:function(){}},formCB:{type:Function,default:function(){}}},setup:function(e){var t=Object(a["ref"])(!1),o=Object(a["ref"])(!1),n={},l=Object(a["ref"])(),r=JSON.parse(JSON.stringify(e.formParam));function c(){for(var t=0;t<e.formList.length;t++){var a=e.formList[t];a.valueType&&"select"===a.valueType&&a.optionMth&&(a.option=[],u(a))}d(),o.value=!0}function u(e){e.optionMth().then((function(t){if(t){var o=t.data.map((function(t){var o={};return o.label=t[e.optionskey.label],o.value=t[e.optionskey.value],o}));e.defaultOption=e.defaultOption?e.defaultOption:[],e.option=e.defaultOption.concat(o)}}))}function d(){e.formList.map((function(e){e.prop&&(n[e.dataIndex]=e.prop)}))}function p(){Object.assign(e.formParam,r),l.value.resetFields()}function m(){l.value.validate((function(o){o&&(t.value=!0,e.subMet().then((function(t){i()({message:t.msg,type:"success"}),e.formCB(),p()})).finally((function(){t.value=!1})))}))}return c(),{ProForm:l,loading:t,showForm:o,rules:n,handleSubmit:m}}};p.render=n;t["a"]=p},"371d":function(e,t,o){"use strict";o.r(t);var a=o("7a23"),n=Object(a["withScopeId"])("data-v-501bf02b");Object(a["pushScopeId"])("data-v-501bf02b");var l={class:"app-container"};Object(a["popScopeId"])();var r=n((function(e,t,o,n,r,c){var i=Object(a["resolveComponent"])("ProForm");return Object(a["openBlock"])(),Object(a["createBlock"])("div",l,[Object(a["createVNode"])(i,{"form-param":n.form,"form-list":n.formList,"sub-met":n.onSubmit,layout:{formWidth:"560px",labelWidth:"150px"}},null,8,["form-param","form-list","sub-met"])])})),c=(o("b0c0"),o("e876")),i=o("123d"),u=[{dataIndex:"name",title:"Activity name",isForm:!0,valueType:"input",prop:[{required:!0,message:"Please enter the Activity name",trigger:"blur"}]},{dataIndex:"region",title:"Activity zone",isForm:!0,valueType:"select",option:[{label:"Zone one",value:"shanghai"},{label:"Zone two",value:"beijing"}],prop:[{required:!0,message:"Please select the Activity zone",trigger:"change"}]},{dataIndex:"date",title:"Activity time",valueType:"date-picker",pickerType:"daterange",pickerFormat:"YYYY-MM-DD",isForm:!0},{dataIndex:"delivery",title:"Instant delivery",valueType:"switch",isForm:!0},{dataIndex:"type",title:"Activity type",valueType:"checkbox",option:[{label:"Online activities",value:"Online activities"},{label:"Promotion activities",value:"Promotion activities"},{label:"Offline activities",value:"Offline activities"},{label:"Simple brand exposure",value:"Simple brand exposure"}],isForm:!0},{dataIndex:"resource",title:"Resources",valueType:"radio",option:[{label:"Sponsor",value:"Sponsor"},{label:"Venue",value:"Venue"}],isForm:!0},{dataIndex:"desc",title:"Activity form",valueType:"input",inpuType:"textarea",isForm:!0},{dataIndex:"check_code",title:"Verification Code",isForm:!0,valueType:"check_code",sendCode:{smsType:"pay",code:"pay"},prop:[{required:!0,message:"Please enter the verification code",trigger:"blur"}]}],d={name:"Form",components:{ProForm:i["a"]},setup:function(){var e=Object(a["reactive"])({name:"",region:"",date:"",delivery:!1,type:[],resource:"",desc:""}),t=u,o=function(){var t=e.name;return console.log(t),console.log(Object(a["toRaw"])(e)),Object(c["b"])(e)};return{form:e,formList:t,onSubmit:o}}};o("7dd4");d.render=r,d.__scopeId="data-v-501bf02b";t["default"]=d},"53f1":function(e,t,o){},"7dd4":function(e,t,o){"use strict";o("53f1")},e876:function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return l}));var a=o("b775");function n(e){return Object(a["a"])({url:"/vue3-admin-pro/public/sendSms",method:"get",params:e})}function l(e){return Object(a["a"])({url:"/vue3-admin-pro/public/submit",method:"post",data:e})}}}]);